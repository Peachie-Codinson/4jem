/* =========================
   ALMANAC (Leather outline + paper pages)
   Equal-sized left/right pages (no stacking)
   ========================= */

:root{
  --alm-ratio: 1.6; /* ~ 980 / 680 */
}

/* Let the book size itself by width; height comes from aspect-ratio */
.almanac{
  width: 100%;
  margin: 0;
  display: grid;
  place-items: center;
  height: auto;           /* <-- no vh-based fixed height */
  padding: 0;
}


.almanac-frame{
  width: min(980px, 85vw, calc(80vh * var(--alm-ratio)));
  aspect-ratio: 980 / 680;  /* height follows width */
  height: auto;
  padding: 8px;
  border-radius: 22px;
  position: relative;
  overflow: hidden;

  background:
    radial-gradient(120% 80% at 20% 10%, rgba(255,255,255,.10), rgba(255,255,255,0) 55%),
    radial-gradient(120% 80% at 80% 90%, rgba(0,0,0,.24), rgba(0,0,0,0) 55%),
    linear-gradient(180deg, rgba(90,45,55,.96), rgba(55,24,36,.98));

  border: 1px solid rgba(255,255,255,.10);
  box-shadow:
    0 30px 90px rgba(0,0,0,.32),
    inset 0 1px 0 rgba(255,255,255,.12),
    inset 0 -10px 30px rgba(0,0,0,.25);
}

.almanac-frame::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    repeating-linear-gradient(0deg, rgba(255,255,255,.03) 0 1px, rgba(0,0,0,0) 1px 4px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.035) 0 1px, rgba(0,0,0,0) 1px 5px);
  opacity: .22;
  mix-blend-mode: overlay;
  pointer-events:none;
}

.almanac-frame::after{
  content:"";
  position:absolute;
  inset: 12px;
  border-radius: 18px;
  background:
    linear-gradient(180deg, rgba(250,246,236,.97), rgba(245,240,228,.95));
  border: 1px solid rgba(0,0,0,.14);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.55),
    0 10px 24px rgba(0,0,0,.18);
  z-index: 0;
  pointer-events:none;
}

.almanac-top,
.almanac-body,
.almanac-hint{
  position: relative;
  z-index: 1;
}

.almanac-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 8px 8px 14px 8px;
}

.almanac-brand{ display:none; }

.almanac-nav{ display:flex; align-items:center; gap: 10px; }

.almanac-btn{
  width: 42px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.22);
  background:
    linear-gradient(180deg, rgba(255,255,255,.88), rgba(240,236,224,.84));
  box-shadow:
    0 6px 14px rgba(0,0,0,.20),
    inset 0 1px 0 rgba(255,255,255,.85),
    inset 0 -2px 6px rgba(0,0,0,.10);
  cursor: pointer;
}
.almanac-btn:active{ transform: translateY(1px); }

.almanac-index{
  min-width: 64px;
  text-align:center;
  font-size: 13px;
  color: rgba(30,20,26,.78);
}

/* Body height */
.almanac-body{
  height: calc(100%);
}

/* ===== KEY FIX: always two equal columns, never stack ===== */
.almanac-spread{
  position: relative;
  height: 100%;

  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr); /* equal-sized pages */
  gap: 8px;

  padding: 5px;
  border-radius: 18px;

  background:
    linear-gradient(180deg, rgba(255,255,255,.58), rgba(255,255,255,.38));
  border: 1px solid rgba(0,0,0,.12);
  box-shadow:
    0 18px 40px rgba(0,0,0,.14),
    inset 0 1px 0 rgba(255,255,255,.55);

  overflow: hidden;
}

/* Spine / gutter */
.almanac-spread::before{
  content:"";
  position:absolute;
  top: 10px;
  bottom: 10px;
  left: 50%;
  width: 26px;
  transform: translateX(-50%);
  border-radius: 14px;
  background:
    radial-gradient(60% 120% at 50% 50%, rgba(0,0,0,.18), rgba(0,0,0,0) 65%),
    linear-gradient(90deg, rgba(0,0,0,.10), rgba(255,255,255,.20), rgba(0,0,0,.10));
  opacity: .55;
  pointer-events:none;
}

/* Pages: force same height, prevent figure margins, allow shrink */
.almanac-page{
  height: 100%;
  min-height: 0;
  min-width: 0;
  border-radius: 14px;

  background:
    linear-gradient(180deg, rgba(255,255,255,.80), rgba(255,255,255,.55));
  border: 1px solid rgba(0,0,0,.12);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.70);
  padding: 8px;
}

figure.almanac-page{ margin: 0; }

/* Left: scroll inside the left page if content is long */
.almanac-page.left{
  font-family: "Times New Roman", Times, serif;
  color: rgba(30,20,26,.92);
  display:flex;
  flex-direction:column;
  overflow: auto;
}

/* Right: make image + caption fit within the SAME page height */
.almanac-page.right{
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
  overflow: hidden;
}

.almanac-img{
  width: 100%;
  flex: 1 1 auto;    /* take remaining height */
  min-height: 0;     /* allow shrinking */
  height: auto;      /* let flex sizing control */
  object-fit: cover;

  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.16);
  box-shadow: 0 12px 24px rgba(0,0,0,.16);
}

.almanac-caption{
  font-size: 12px;
  opacity: .75;
  text-align: center;
  font-family: "Times New Roman", Times, serif;
}

/* Text blocks */
.almanac-head{
  flex: 0 0 auto;
  margin: 0 0 10px 0;
}

/* .almanac-title{
  margin: 0;
  font-size: 30px;
  line-height: 1.05;
  letter-spacing: .02em;
} */
/* .almanac-sub{
  margin-top: 6px;
  font-style: italic;
  opacity: .72;
} */
.almanac-block{ margin-top: 14px; }
.almanac-k{
  font-weight: 700;
  opacity: .85;
  margin-bottom: 6px;
}
.almanac-v{
  opacity: .82;
  line-height: 1.35;
}

.almanac-hint{
  margin-top: 10px;
  font-size: 12px;
  color: rgba(30,20,26,.55);
  text-align: center;
}

/* Flip overlay */
.almanac-flip{
  position:absolute;
  inset: 16px;
  border-radius: 18px;
  pointer-events:none;
  background:
    linear-gradient(90deg,
      rgba(0,0,0,0) 0%,
      rgba(0,0,0,.10) 40%,
      rgba(255,255,255,.22) 50%,
      rgba(0,0,0,.14) 60%,
      rgba(0,0,0,0) 100%);
  opacity: 0;
  transform: translateX(0);
}

.almanac-flip.go{
  opacity: 1;
  animation: almFlipPage .52s ease both;
}
.almanac-flip[data-dir="prev"].go{
  animation-name: almFlipPagePrev;
}

@keyframes almFlipPage{
  0%{ opacity:0; transform: translateX(28%) skewX(-6deg) }
  40%{ opacity:1 }
  100%{ opacity:0; transform: translateX(-28%) skewX(6deg) }
}
@keyframes almFlipPagePrev{
  0%{ opacity:0; transform: translateX(-28%) skewX(6deg) }
  40%{ opacity:1 }
  100%{ opacity:0; transform: translateX(28%) skewX(-6deg) }
}

.almanac-spread{ position: relative; }

.almanac-tap{
  position: absolute;
  top: 0;
  bottom: 0;
  width: 22%;
  z-index: 5;
  background: transparent;
}
.almanac-tap.left{ left: 0; cursor: w-resize; }
.almanac-tap.right{ right: 0; cursor: e-resize; }
/* Big flower title */
.almanac-title{
  margin: 0;
  font-size: clamp(20px, 4.2vw, 54px);
  line-height: 1.02;
  letter-spacing: .01em;
}

/* Scientific name under title */
.almanac-sub{
  margin-top: 8px;
  font-style: italic;
  opacity: .72;
  font-size: 14px;
}

/* Sections */
.almanac-section{
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(0,0,0,.10);
}

.almanac-section-title{
  margin: 0 0 8px 0;
  font-size: 16px;
  letter-spacing: .08em;
  text-transform: uppercase;
  opacity: .78;
}

.almanac-section-body{
  margin: 0;
  font-size: 16px;
  line-height: 1.45;
  opacity: .85;
}


/* IMPORTANT: remove any older media query that stacks pages.
   If you previously had:
   @media (max-width: 720px){ .almanac-spread{ grid-template-columns: 1fr; } }
   delete it, or it will put image under text. */
